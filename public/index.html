<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Homepage</title>
</head>
<body>
Hello world!
<input placeholder="Upload recording" id="recording" type="file">
<button id="submit">Submit</button>
<button id="getNames">Get names</button>
<button id="getStats">Get stats</button>
</body>
<script>
    const getNames = document.getElementById("getNames");
    const getStats = document.getElementById("getStats");
    const send = document.getElementById("submit");
    const recording = document.getElementById("recording");
    getStats.addEventListener("click", function() {
        fetch("/getStats").then(res => {
            res.json().then(res => {
                console.log(res);
            })
        })
    });
    getNames.addEventListener("click", function() {
        fetch("/getNames").then(res => {res.json().then(res => {
            console.log(res.names);
        })});
    });
    send.addEventListener("click", function () {
        let formData = new FormData();
        formData.append('recording', recording.files[0]);
        fetch('/uploadAudio', {
            method: "POST",
            body: formData
        }).then(result => {
            result.json().then(result => {
                alert(result.message);
            })
        })
    });
</script>
</html>